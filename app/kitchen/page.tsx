"use client"

import { useState, useEffect } from "react";
import { KDSHeader } from "@/components/kds/KDSHeader";
import { OrderFilters } from "@/components/kds/OrderFilters";
import { OrderGrid } from "@/components/kds/OrderGrid";
import { ItemSummary } from "@/components/kds/ItemSummary";
import { SettingsPanel } from "@/components/kds/SettingsPanel";
import { Order, OrderStatus } from "@/types/kds";
import { mockOrders } from "@/lib/data/mockOrders";

const Page = () => {
    const [orders, setOrders] = useState<Order[]>(mockOrders);
    const [activeFilter, setActiveFilter] = useState<OrderStatus | 'all'>('all');
    const [darkMode, setDarkMode] = useState(false);
    const [showSettings, setShowSettings] = useState(false);
    const [soundEnabled, setSoundEnabled] = useState(true);
    const [autoRefresh, setAutoRefresh] = useState(true);

    // Timer to update elapsed time for all orders every second
    useEffect(() => {
        const interval = setInterval(() => {
            setOrders(prevOrders =>
                prevOrders.map(order => ({
                    ...order,
                    elapsedMinutes: Math.floor((Date.now() - order.placedAt.getTime()) / 60000)
                }))
            );
        }, 1000);

        return () => clearInterval(interval);
    }, []);

    // Simulate new orders appearing occasionally
    useEffect(() => {
        if (!autoRefresh) return;

        const interval = setInterval(() => {
            // 20% chance to add a new order every 30 seconds
            if (Math.random() < 0.2) {
                const newOrder: Order = {
                    id: `order-${Date.now()}`,
                    orderNumber: Math.floor(Math.random() * 9000) + 1000,
                    tableNumber: Math.random() > 0.3 ? Math.floor(Math.random() * 20) + 1 : null,
                    items: [
                        { name: "Grilled Chicken", quantity: 1, modifiers: ["No sauce"] },
                        { name: "Caesar Salad", quantity: 1, modifiers: [] }
                    ],
                    status: 'in-progress',
                    priority: Math.random() > 0.8 ? 'rush' : 'normal',
                    placedAt: new Date(),
                    elapsedMinutes: 0
                };

                setOrders(prev => [newOrder, ...prev]);

                // Play sound if enabled
                if (soundEnabled) {
                    // Simple beep sound simulation
                    const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjiR1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFRHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFOpGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVJApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmR1/LNeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmAcBjmRT');
                    console.log('New order notification sound played');
                }
            }
        }, 30000);

        return () => clearInterval(interval);
    }, [autoRefresh, soundEnabled]);

    const handleMarkReady = (orderId: string) => {
        console.log(`Marking order ${orderId} as ready`);
        setOrders(prevOrders =>
            prevOrders.map(order =>
                order.id === orderId
                    ? { ...order, status: 'ready' }
                    : order
            )
        );
    };

    const handleCompleteOrder = (orderId: string) => {
        console.log(`Completing order ${orderId}`);
        setOrders(prevOrders =>
            prevOrders.map(order =>
                order.id === orderId
                    ? { ...order, status: 'completed' }
                    : order
            )
        );
    };

    const filteredOrders = orders.filter(order => {
        if (activeFilter === 'all') return true;
        return order.status === activeFilter;
    });

    return (
        <div className={`min-h-screen transition-colors duration-300 ${darkMode ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-900'
            }`}>
            <KDSHeader
                darkMode={darkMode}
                onToggleDarkMode={() => setDarkMode(!darkMode)}
                onToggleSettings={() => setShowSettings(!showSettings)}
                autoRefresh={autoRefresh}
            />

            <div className="flex">
                <main className="flex-1 p-6">
                    <OrderFilters
                        activeFilter={activeFilter}
                        onFilterChange={setActiveFilter}
                        darkMode={darkMode}
                    />

                    <OrderGrid
                        orders={filteredOrders}
                        onMarkReady={handleMarkReady}
                        onCompleteOrder={handleCompleteOrder}
                        darkMode={darkMode}
                    />
                </main>

                <ItemSummary
                    orders={filteredOrders.filter(order => order.status === 'in-progress')}
                    darkMode={darkMode}
                />
            </div>

            {showSettings && (
                <SettingsPanel
                    darkMode={darkMode}
                    soundEnabled={soundEnabled}
                    autoRefresh={autoRefresh}
                    onToggleDarkMode={() => setDarkMode(!darkMode)}
                    onToggleSound={() => setSoundEnabled(!soundEnabled)}
                    onToggleAutoRefresh={() => setAutoRefresh(!autoRefresh)}
                    onClose={() => setShowSettings(false)}
                />
            )}
        </div>
    );
};

export default Page;